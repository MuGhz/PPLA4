<?php

namespace Tests\Unit;

use Tests\TestCase;
use Illuminate\Foundation\Testing\DatabaseMigrations;
use Illuminate\Foundation\Testing\DatabaseTransactions;
use Illuminate\Support\Facades\Input;
use Illuminate\Http\Request;

use App\Http\Controllers\OrderController;

use App\Company;
use App\User;

class OrderTest extends TestCase
{

    use DatabaseTransactions;
    /**
     * A basic test example.
     *
     * @return void
     */
     protected $token;
     protected $hotelList;
     protected $hotelDetail;

    public function setUp()
    {
        parent::setUp();
        $this->token = '{"diagnostic":{"status":200,"elapsetime":"0.2117","memoryusage":"16.56MB","unix_timestamp":1492594122,"confirm":"success","lang":"id","currency":"IDR"},"output_type":"json","login_status":"false","token":"3b00ae1956bac189967cfff807fff929c4e6415b"}';
        $this->hotelList = '{"diagnostic":{"status":200,"elapsetime":"13.7016","memoryusage":"54MB","unix_timestamp":1492603847,"confirm":"success","lang":"id","currency":"IDR"},"output_type":"json","search_queries":{"q":"jakarta","uid":"","startdate":"2017-04-20","enddate":"2017-04-21","night":"1","room":1,"adult":"1","child":0,"sort":false,"minstar":0,"maxstar":5,"minprice":"213000.00","maxprice":"1000000000.00","distance":100000},"results":{"result":[{"province_name":"DKI Jakarta","kecamatan_name":"Gambir","kelurahan_name":"Petojo Selatan","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/neo-hotel-cideng-jakarta?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A222778","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat2677.sq2.jpg","star_rating":"3","id":"363020170420","room_available":"97","latitude":"-6.17242839999999900000","longitude":"106.82437460000006000000","room_max_occupancies":"2","rating":"8.3","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"160","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=3911983&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Bar kecil|Air mineral botol gratis|Televisi|Telepon|Sandal|Pengering rambut berdasarkan permintaan|Alat pembuat kopi and teh berdasarkan permintaan","oldprice":"1262390.00","address":"Cideng Timur Street No. 58 \nPetojo Selatan, Gambir, Jakarta Pusat","wifi":"Wi-Fi Tersedia","promo_name":"","price":"788000.00","total_price":"788000.00","regional":"Monas - Jakarta - DKI Jakarta","name":"Favehotel Tanah Abang","hotel_id":"222778"},{"province_name":"DKI Jakarta","kecamatan_name":"Mampang Prapatan","kelurahan_name":"Mampang Prapatan","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/maven-buncit?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19580417","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/m\/a\/business-mavenbuncit-hotel-jakarta-selatan9862.sq2.jpg","star_rating":"3","id":"600120170420","room_available":"5","latitude":"-6.26178389999999900000","longitude":"106.82587239999998000000","room_max_occupancies":"2","rating":"6.3","tripadvisor_avg_rating":{"avg_rating":"2.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/2.5-18379-4.gif","review_count":"20","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=4332649&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"AC|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Telepon|Gratis Perlengkapan Mandi|Shower Panas and Dingin","oldprice":"422601.00","address":"Jl. Kemang Timur V No. 23, Mampang Prapatan, Jakarta Selatan","wifi":"","promo_name":"","price":"270000.00","total_price":"270000.00","regional":"Kemang - Jakarta - DKI Jakarta","name":"Maven Buncit","hotel_id":"19580417"},{"province_name":"DKI Jakarta","kecamatan_name":"Kramat Jati","kelurahan_name":"Cililitan","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/cawang\/favehotel-pgc-cililitan?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19857717","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-pgc-cililitan-hotel-jakarta-timur-2619.sq2.jpg","star_rating":"3","id":"47598420170420","room_available":"102","latitude":"-6.26219044970876700000","longitude":"106.86569809913635000000","room_max_occupancies":"2","rating":"6.8","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"90","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=5039646&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Brankas|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Air mineral botol gratis|Televisi|Telepon|Cermin|Gratis Perlengkapan Mandi|Shower Panas and Dingin","oldprice":"1022087.00","address":"76 Mayjen Sutoyo Street, Jakarta - Indonesia, Kramat Jati, Jakarta Timur","wifi":"Wi-Fi Tersedia","promo_name":"","price":"638000.00","total_price":"638000.00","regional":"Cawang - Jakarta - DKI Jakarta","name":"favehotel PGC Cililitan","hotel_id":"19857717"},{"province_name":"DKI Jakarta","kecamatan_name":" ","kelurahan_name":" ","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/hotel-neo-tendean-jakarta?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19851133","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/h\/o\/business-hotel-neo-tendean-jakarta-hotel-jakarta-selatan-4093.sq2.jpg","star_rating":"3","id":"47665120170420","room_available":"80","latitude":"-6.23861100000000000000","longitude":"106.81765199999995000000","room_max_occupancies":"2","rating":"7.3","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"45","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=5018957&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Brankas|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Bar kecil|Mesin pembuat kopi/teh|Telepon|Sandal|Cermin|Papan setrika dengan permintaan|Pengering rambut dengan permintaan|Gratis Perlengkapan Mandi","oldprice":"1369725.00","address":"Wolter Monginsidi street  No. 131 South Jakarta\n, Jakarta Selatan","wifi":"Wi-Fi Tersedia","promo_name":"","price":"855000.00","total_price":"855000.00","regional":"Mampang - Jakarta - DKI Jakarta","name":"Hotel Neo Tendean Jakarta","hotel_id":"19851133"},{"id":"001:CIP6:12265:M89772:117832:36470720170420","room_available":1,"latitude":"-6.16844270000000000000","longitude":"106.78764239999998000000","star_rating":"5","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/hotel-ciputra-jakarta?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19441739","province_name":"DKI Jakarta","kecamatan_name":"Grogol Petamburan","kelurahan_name":"Tanjung Duren Selatan","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/h\/o\/business-hotel-ciputra-jakarta-hotel-jakarta-barat2844.sq2.jpg","rating":"8.4","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"286","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=306745&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Mesin pembuat kopi/teh|Air mineral botol gratis|Telepon|Sandal|Cermin|Papan setrika dengan permintaan|Pengering rambut dengan permintaan|Gratis Perlengkapan Mandi|Shower Panas and Dingin","oldprice":"2513511.00","address":"Letnan Jendral S Parman  Street, Jakarta, Grogol Petamburan, Jakarta Barat","wifi":"Wi-Fi Tersedia","promo_name":"","price":"2040698.00","total_price":"2040698.00","regional":"Grogol - Jakarta - DKI Jakarta","name":"Hotel Ciputra Jakarta","hotel_id":"19441739"},{"province_name":"DKI Jakarta","kecamatan_name":"Taman Sari","kelurahan_name":"Glodok","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/favehotel-ltc-glodok?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19837846","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-ltc-glodok-hotel-jakarta-barat-2140.sq2.jpg","star_rating":"3","id":"32513720170420","room_available":"164","latitude":"-6.14792600000000000000","longitude":"106.81657300000006000000","room_max_occupancies":"2","rating":"7.5","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"202","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=5028648&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Air mineral botol gratis|Telepon|Shower Panas and Dingin","oldprice":"1342491.00","address":"LTC Glodok Building 8th Floor\n\nJl. Hayam Wuruk No. 127\n, Taman Sari, Jakarta Barat","wifi":"Wi-Fi Tersedia","promo_name":"","price":"838000.00","total_price":"838000.00","regional":"Mangga Dua - Jakarta - DKI Jakarta","name":"favehotel LTC Glodok","hotel_id":"19837846"},{"province_name":"DKI Jakarta","kecamatan_name":"Pancoran","kelurahan_name":"Pancoran","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/kalibata\/cipta-hotel-pancoran?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A21392582","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/c\/i\/business-ciptahotelpancoran-hotel-jakarta-selatan4506.sq2.jpg","star_rating":"3","id":"62125020170420","room_available":"5","latitude":"-6.24627403191255850000","longitude":"106.84302270412445000000","room_max_occupancies":"2","rating":"6.9","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"15","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=7348020&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Brankas|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Telepon|Cermin|Gratis Perlengkapan Mandi","oldprice":"939114.00","address":"Jalan Raya Pasar Minggu Kav. 19, Pancoran Jakarta Selatan, Pancoran, Jakarta Selatan","wifi":"Wi-Fi Tersedia","promo_name":"","price":"600000.00","total_price":"600000.00","regional":"Kalibata - Jakarta - DKI Jakarta","name":"Cipta Hotel Pancoran","hotel_id":"21392582"},{"province_name":"DKI Jakarta","kecamatan_name":"Cengkareng","kelurahan_name":"Cengkareng Barat","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/pluit\/aston-cengkareng-city-hotel?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A152601","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/a\/s\/business-aston-cengkareng-city-hotel-hotel-jakarta-barat7075.sq2.jpg","star_rating":"3","id":"54294620170420","room_available":"131","latitude":"-6.13680840000000000000","longitude":"106.73348550000003000000","room_max_occupancies":"2","rating":"7.4","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"128","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=1656793&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Brankas|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Bar kecil|Mesin pembuat kopi/teh|Air mineral botol gratis|Televisi|Telepon|Cermin|Papan setrika dengan permintaan|Pengering rambut dengan permintaan|Kulkas|Gratis Perlengkapan Mandi|Alat pembuat kopi and teh berdasarkan permintaan|Lemari|Shower Panas and Dingin","oldprice":"1313655.00","address":"Outer Ring Road, Mutiara Taman Palem, Cengkareng, Jakarta Barat","wifi":"Wi-Fi Tersedia","promo_name":"","price":"820000.00","total_price":"820000.00","regional":"Pluit - Jakarta - DKI Jakarta","name":"Aston Cengkareng City Hotel","hotel_id":"152601"},{"province_name":"DKI Jakarta","kecamatan_name":"Sawah Besar","kelurahan_name":"Mangga Dua Selatan","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/orchardz-jayakarta?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19485325","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/o\/r\/business-orchardz-jayakarta-hotel-hotel-jakarta-pusat114.sq2.jpg","star_rating":"3","id":"495320170420","room_available":"20","latitude":"-6.14362159999999900000","longitude":"106.82861890000004000000","room_max_occupancies":"2","rating":"8.6","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"66","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=3427042&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"AC|Satelit/TV kabel|Meja|Pengering Rambut|Shower Panas and Dingin|Coffee\/tea Maker |Minibar |Private Bathroom |Complimentary Bottled Water |Slippers |Connecting \/ Adjoining Rooms Available |Direct-dial Phone |Refrigerator ","oldprice":"975230.00","address":"Pangeran Jayakarta Street No. 44, Sawah Besar, Jakarta Pusat","wifi":"","promo_name":"","price":"608751.00","total_price":"608751.00","regional":"Mangga Dua - Jakarta - DKI Jakarta","name":"Orchardz Jayakarta Hotel","hotel_id":"19485325"},{"id":"004:ACCOR:II:1671:RA1DER:RA1DER:TWC20170420","room_available":1,"latitude":"-6.16509000000000000000","longitude":"106.84145000000000000000","star_rating":"3","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/senen\/ibis-jakarta-kemayoran?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19430383","province_name":"DKI Jakarta","kecamatan_name":"Kemayoran","kelurahan_name":"Kemayoran","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/i\/b\/business-ibis-jakarta-kemayoran-hotel-jakarta-pusat3179.sq2.jpg","rating":"6.4","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"279","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=299551&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Shower","oldprice":"773388.00","address":"JALAN BUNGUR BESAR RAYA 79-81\n10620 - JAKARTA, Kemayoran, Jakarta Pusat","wifi":"","promo_name":"","price":"488373.00","total_price":"488373.00","regional":"Senen - Jakarta - DKI Jakarta","name":"Ibis Jakarta Kemayoran","hotel_id":"19430383"},{"province_name":"Jawa Barat","kecamatan_name":"Bogor Utara","kelurahan_name":"Tegal Gundil","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/bogor\/bogor\/hotel-santika-bogor?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A2926","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/h\/o\/business-hotel-santika-bogor-hotel-bogor4048.sq2.jpg","star_rating":"4","id":"76209120170420","room_available":"3","latitude":"-6.58884949999999900000","longitude":"106.79263909999997000000","room_max_occupancies":"2","rating":"7.8","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"268","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=1385700&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Brankas|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Bathtub|Bar kecil|Mesin pembuat kopi/teh|Air mineral botol gratis","oldprice":"1585092.00","address":"Botani Square, Jl. Raya Padjadjaran, Bogor Utara, Bogor","wifi":"Wi-Fi Tersedia","promo_name":"","price":"1088100.00","total_price":"1088100.00","regional":"Baranang Siang - Bogor - Jawa Barat","name":"Hotel Santika Bogor","hotel_id":"2926"},{"id":"001:NOV:10622:M142380:236142:36250220170420","room_available":1,"latitude":"-6.13810170000000100000","longitude":"106.83022150000000000000","star_rating":"4","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/novotel-jakarta-mangga-dua-square-hotel?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19438534","province_name":"DKI Jakarta","kecamatan_name":"Pademangan","kelurahan_name":"Pademangan Barat","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/n\/o\/business-novotel-jakarta-mangga-dua-square-hotel-hotel-jakarta-utara4959.sq2.jpg","rating":"8.6","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"977","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=578291&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Mesin pembuat kopi/teh|Air mineral botol gratis|Telepon|Sandal|Cermin|Papan setrika dengan permintaan|Pengering rambut dengan permintaan|Gratis Perlengkapan Mandi|Shower Panas and Dingin","oldprice":"1307803.00","address":"Jalan Gunung Sahari Raya 1, Pademangan, Jakarta Utara","wifi":"Wi-Fi Tersedia","promo_name":"","price":"929070.00","total_price":"929070.00","regional":"Mangga Dua - Jakarta - DKI Jakarta","name":"Novotel Jakarta Mangga Dua Square Hotel","hotel_id":"19438534"},{"id":"001:91Z:106056:S128672:155398:25424320170420","room_available":1,"latitude":"-6.10660740000000000000","longitude":"106.68344060000004000000","star_rating":"4","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/airport-soekarno-hatta\/fm7-resort-hotel?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19839392","province_name":"DKI Jakarta","kecamatan_name":" ","kelurahan_name":" ","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/f\/m\/business-fm7resorthotel-hotel-8092.sq2.jpg","rating":"","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"1089","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=1009520&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Mesin pembuat kopi/teh|Air mineral botol gratis|Telepon|Sandal|Cermin|Papan setrika dengan permintaan|Pengering rambut dengan permintaan|Gratis Perlengkapan Mandi|Shower Panas and Dingin","oldprice":"1024637.00","address":"Jln Raya Prancis No 67 Benda-Tanggerang, Tanggerang, Indonesia, 15125\n,  ","wifi":"Wi-Fi Tersedia","promo_name":"","price":"727907.00","total_price":"727907.00","regional":"Airport Soekarno Hatta - Jakarta - DKI Jakarta","name":"FM7 Resort Hotel","hotel_id":"19839392"},{"id":"004:ACCOR:II:1867:RA3DER:RA3DER:TWC20170420","room_available":1,"latitude":"-6.18710739999999900000","longitude":"106.82658170000002000000","star_rating":"3","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta-pusat\/jakarta-pusat\/ibis-jakarta-tamarin?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19438396","province_name":"DKI Jakarta","kecamatan_name":"Menteng","kelurahan_name":"Kebon Sirih","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/i\/b\/business-ibis-jakarta-tamarin-hotel-jakarta-pusat4666.sq2.jpg","rating":"","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"390","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=307131&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Shower","oldprice":"1010929.00","address":"Jl. KH Wahid Hasyim 77 Jakarta Pusat, Menteng, Jakarta Pusat","wifi":"","promo_name":"","price":"638373.00","total_price":"638373.00","regional":"Thamrin - Jakarta Pusat - DKI Jakarta","name":"Ibis Jakarta Tamarin","hotel_id":"19438396"},{"id":"004:ACCOR:XN:7447:ERYDER:ERYDER:TWB20170420","room_available":1,"latitude":"-6.14720869999999900000","longitude":"106.81598859999997000000","star_rating":"4","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/novotel-jakarta-gajah-mada?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19438413","province_name":"DKI Jakarta","kecamatan_name":"Taman Sari","kelurahan_name":"Glodok","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/n\/o\/business-novotel-jakarta-gajah-mada-hotel-jakarta-barat8248.sq2.jpg","rating":"7.8","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"475","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=3588418&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Shower","oldprice":"1196501.00","address":"Jl Gajah Mada No 188, Taman Sari, Jakarta Barat","wifi":"","promo_name":"","price":"850000.00","total_price":"850000.00","regional":"Gajah Mada - Jakarta Barat - DKI Jakarta","name":"Novotel Jakarta Gajah Mada","hotel_id":"19438413"},{"province_name":"Jawa Barat","kecamatan_name":"Sukajadi","kelurahan_name":"Pasteur","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/bandung\/sukajadi\/sukajadi-hotel?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A24","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/s\/u\/business-sukajadi-hotel-hotel-bandung5265.sq2.jpg","star_rating":"3","id":"820170420","room_available":"10","latitude":"-6.88588270000000000000","longitude":"107.59689619999995000000","room_max_occupancies":"2","rating":"7.1","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"208","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=651509&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"AC|Internet - Wifi (gratis)|Satelit/TV kabel|Meja|Shower|Pengering Rambut|Mesin pembuat kopi/teh|Air mineral botol gratis|Televisi|Telepon|Sandal|Cermin|Pengering rambut dengan permintaan|Kulkas|Alat pembuat kopi and teh berdasarkan permintaan|Shower Panas and Dingin","oldprice":"848333.00","address":"Jl Sukajadi 176, Sukajadi, Bandung","wifi":"Wi-Fi Tersedia","promo_name":"","price":"542000.00","total_price":"542000.00","regional":"Sukajadi - Bandung - Jawa Barat","name":"Sukajadi Hotel","hotel_id":"24"},{"id":"004:ACCOR:II:0475:RA3DER:RA3DER:QEC20170420","room_available":1,"latitude":"-6.13941899999999900000","longitude":"106.81839109999999000000","star_rating":"3","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/ibis-jakarta-mangga-dua-hotel-and-apartment?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19438408","province_name":"DKI Jakarta","kecamatan_name":"Sawah Besar","kelurahan_name":"Mangga Dua Selatan","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/i\/b\/business-ibis-jakarta-mangga-dua-hotel-and-apartment-hotel-jakarta-pusat7203.sq2.jpg","rating":"7.7","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"331","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=299539&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Shower","oldprice":"742084.00","address":"Jalan Pangeran Jayakarta 73, Sawah Besar, Jakarta Pusat","wifi":"","promo_name":"","price":"468605.00","total_price":"468605.00","regional":"Mangga Dua - Jakarta - DKI Jakarta","name":"Ibis Jakarta Mangga Dua Hotel and Apartment","hotel_id":"19438408"},{"province_name":"DKI Jakarta","kecamatan_name":"Setiabudi","kelurahan_name":"Menteng Atas","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/aston-rasuna-jakarta?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A154502","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/a\/s\/business-astonrasunajakarta-hotel-jakarta-selatan941.sq2.jpg","star_rating":"4","id":"315020170420","room_available":"8","latitude":"-6.21910280000000000000","longitude":"106.83657510000000000000","room_max_occupancies":"2","rating":"7.3","tripadvisor_avg_rating":{"avg_rating":"4.0","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/4.0-18379-4.gif","review_count":"402","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=582032&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Brankas|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Shower|Baju Handuk|Pengering Rambut|Bar kecil|Mesin pembuat kopi/teh|Air mineral botol gratis|Televisi|Ruang Makan|Telepon|Sandal|Cermin|Kulkas|Peralatan Dapur|Sofa Bed|Ruang Tamu|Lemari|Shower Panas and Dingin","oldprice":"2577697.00","address":"Komplek Apartemen Taman Rasuna. \nJalan HR Rasuna Said, Setiabudi, Jakarta Selatan","wifi":"Wi-Fi Tersedia","promo_name":"","price":"1810160.00","total_price":"1810160.00","regional":"Kuningan - Jakarta - DKI Jakarta","name":"Aston Rasuna Jakarta","hotel_id":"154502"},{"id":"001:ARC1:10581:S10282:161204:6454820170420","room_available":1,"latitude":"-6.18723220000000000000","longitude":"106.82938209999998000000","star_rating":"3","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/ibis-jakarta-arcadia?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A19438395","province_name":"DKI Jakarta","kecamatan_name":"Menteng","kelurahan_name":"Kebon Sirih","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/i\/b\/business-ibis-jakarta-arcadia-hotel-jakarta-pusat8849.sq2.jpg","rating":"8.0","tripadvisor_avg_rating":{"avg_rating":"3.5","image_url":"http:\/\/www.tripadvisor.co.id\/img\/cdsi\/img2\/ratings\/traveler\/3.5-18379-4.gif","review_count":"514","url":"http:\/\/www.tripadvisor.com\/WidgetEmbed-cdspropertydetail?locationId=299554&lang=en_US&partnerId=176DD3B47F374A79ACF1E7E5AC852AC0&isTA=true&format=html&display=true"},"room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|AC|Internet - Wifi (gratis)|Televisi LCD/layar plasma|Satelit/TV kabel|Meja|Mesin pembuat kopi/teh|Air mineral botol gratis|Telepon|Sandal|Cermin|Papan setrika dengan permintaan|Pengering rambut dengan permintaan|Gratis Perlengkapan Mandi|Shower Panas and Dingin","oldprice":"1428926.00","address":"Jalan K H Wahid Hasyim 114, Menteng, Jakarta Pusat","wifi":"Wi-Fi Tersedia","promo_name":"","price":"902326.00","total_price":"902326.00","regional":"Thamrin - Jakarta Pusat - DKI Jakarta","name":"Ibis Jakarta Arcadia","hotel_id":"19438395"},{"id":"004:ACCOR:XM:8535:RA1DER:RA1DER:QEB20170420","room_available":1,"latitude":"-6.16016800000000000000","longitude":"106.81966000000000000000","star_rating":"5","business_uri":"https:\/\/api-sandbox.tiket.com\/hotel\/indonesia\/jakarta\/jakarta\/grand-mercure-jakarta-harmoni-jakarta?startdate=2017-04-20&night=1&room=1&adult=1&child=0&is_partner=0&star_rating%5B0%5D=0&star_rating%5B1%5D=1&star_rating%5B2%5D=2&star_rating%5B3%5D=3&star_rating%5B4%5D=4&star_rating%5B5%5D=5&hotel_chain=0&facilities=0&latitude=0&longitude=0&distance=0&uid=business%3A21427344","province_name":"DKI Jakarta","kecamatan_name":" ","kelurahan_name":" ","room_max_occupancies":"1","photo_primary":"https:\/\/sandbox.tiket.com\/img\/business\/g\/r\/business-grandmercurejakartaharmoni-hotel-374.sq2.jpg","rating":"6.5","room_facility_name":"Kamar bebas rokok ada tergantung ketersediaan|Shower","oldprice":"1296141.00","address":"Jl. Hayam Wuruk No. 36-37Jl. Hayam Wuruk No. 36-37,  ","wifi":"","promo_name":"","price":"1052326.00","total_price":"1052326.00","regional":"Gajah Mada - Jakarta - DKI Jakarta","name":"Grand Mercure Jakarta Harmoni","hotel_id":"21427344"}]},"pagination":{"total_found":62,"current_page":"1","offset":"20","lastPage":4},"login_status":"false","token":"25599b029a0c3e3a87bde80091cf15bed064c099"}';
        $this->hotelDetail = '{"diagnostic":{"status":200,"elapsetime":"0.5935","memoryusage":"27.63MB","unix_timestamp":1492611060,"confirm":"success","lang":"id","currency":"IDR"},"output_type":"json","primaryPhotos":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat2677.s.jpg","breadcrumb":{"business_id":"222778","business_uri":"https:\/\/api-sandbox.tiket.com\/neo-hotel-cideng-jakarta","business_name":"Favehotel Tanah Abang","area_id":"87528","area_name":"Monas","kelurahan_id":"69","kelurahan_name":"Petojo Selatan","kecamatan_id":"19","kecamatan_name":"Gambir","city_id":"21681","city_name":"Jakarta","province_id":"13","province_name":"DKI Jakarta","country_id":"id","country_name":"Indonesia","continent_id":"1","continent_name":"Asia","kelurahan_uri":"https:\/\/api-sandbox.tiket.com\/search\/hotel?uid=city:21681","kecamatan_uri":"https:\/\/api-sandbox.tiket.com\/search\/hotel?uid=kecamatan:19","province_uri":"https:\/\/api-sandbox.tiket.com\/search\/hotel?uid=province:13","country_uri":"https:\/\/api-sandbox.tiket.com\/search\/hotel?uid=country:id","continent_uri":"https:\/\/api-sandbox.tiket.com\/search\/hotel?uid=continent:1","star_rating":"3"},"results":{"result":[{"id":"3180620170419","room_available":"11","ext_source":"native","room_id":"31806","currency":"IDR","minimum_stays":"1","with_breakfasts":"0","all_photo_room":["https:\/\/sandbox.tiket.com\/img\/business\/s\/u\/business-superior-room-only-favehotel-tanah-abang-cideng-jakarta-jakarta-pusat-7308.room.jpg"],"photo_url":"https:\/\/sandbox.tiket.com\/img\/business\/s\/u\/business-superior-room-only-favehotel-tanah-abang-cideng-jakarta-jakarta-pusat-7308.s.jpg","room_name":"Kamar Superior Tanpa Sarapan Pagi","oldprice":"645111.00","price":"350337.00","bookUri":"https:\/\/api-sandbox.tiket.com\/order\/add\/hotel?startdate=2017-04-19&night=1&room=1&adult=1&child=0&minstar=0&maxstar=0&minprice=0&maxprice=0&facilities=0&locations=0&hotelname=0&is_partner=0&room_id=31806&hasPromo=0&enddate=2017-04-20&room_max_occupancy=2","room_facility":["AC","Alat pembuat kopi and teh berdasarkan permintaan","Air mineral botol gratis","Meja","Pengering rambut berdasarkan permintaan","Internet - Wifi (gratis)","Televisi LCD/layar plasma","Bar kecil","Satelit/TV kabel","Shower","Sandal","Telepon","Televisi"],"room_description":"Deskripsi kamar belum tersedia.","additional_surcharge_currency":""},{"id":"363020170419","room_available":"11","ext_source":"native","room_id":"3630","currency":"IDR","minimum_stays":"1","with_breakfasts":"1","all_photo_room":["https:\/\/sandbox.tiket.com\/img\/business\/s\/u\/business-superior-room-favehotel-tanah-abang-cideng-jakarta-jakarta-pusat-5256.room.jpg"],"photo_url":"https:\/\/sandbox.tiket.com\/img\/business\/s\/u\/business-superior-room-favehotel-tanah-abang-cideng-jakarta-jakarta-pusat-5256.s.jpg","room_name":"Kamar Superior","oldprice":"751868.00","price":"408313.00","bookUri":"https:\/\/api-sandbox.tiket.com\/order\/add\/hotel?startdate=2017-04-19&night=1&room=1&adult=1&child=0&minstar=0&maxstar=0&minprice=0&maxprice=0&facilities=0&locations=0&hotelname=0&is_partner=0&room_id=3630&hasPromo=0&enddate=2017-04-20&room_max_occupancy=2","room_facility":["AC","Alat pembuat kopi and teh berdasarkan permintaan","Air mineral botol gratis","Meja","Pengering rambut berdasarkan permintaan","Internet - Wifi (gratis)","Televisi LCD/layar plasma","Bar kecil","Satelit/TV kabel","Shower","Sandal","Telepon","Televisi"],"room_description":"Deskripsi kamar belum tersedia.","additional_surcharge_currency":""}]},"addinfos":{"addinfo":["Biaya antar jemput bandara : IDR 400.000,00","Checkout : 12:00","Jarak dari pusat kota : 3 Km","Jumlah Restoran : 1","Waktu untuk sampai di bandara : 45 menit","Tahun hotel dibangun : 2013"]},"all_photo":{"photo":[{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat2132.s.jpg","photo_type":"Teras"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat7788.s.jpg","photo_type":"Rumah Makan"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat7710.s.jpg","photo_type":"Ruang Pertemuan"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat6984.s.jpg","photo_type":"Kamar Tamu"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat5838.s.jpg","photo_type":"Rumah Makan"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat5720.s.jpg","photo_type":"Lobby"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat4757.s.jpg","photo_type":"Kamar Tamu"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat4370.s.jpg","photo_type":"Kamar Mandi"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat4218.s.jpg","photo_type":"Kamar Mandi"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat3781.s.jpg","photo_type":"Ruang Pertemuan"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat2677.s.jpg","photo_type":"Eksterior"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat2591.s.jpg","photo_type":"Kamar Tamu"},{"file_name":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat9463.s.jpg","photo_type":"Penerima Tamu"}]},"primaryPhotos_large":"https:\/\/sandbox.tiket.com\/img\/business\/f\/a\/business-favehotel-tanah-abang-cideng-jakarta-hotel-jakarta-pusat2677.crop.jpg","avail_facilities":{"avail_facilitiy":[{"facility_type":"hotel","facility_name":"Layanan Kamar 24 Jam"},{"facility_type":"hotel","facility_name":"Antar Jemput Bandara Dikenakan Biaya"},{"facility_type":"hotel","facility_name":"Bar"},{"facility_type":"hotel","facility_name":"Parkir Gratis"},{"facility_type":"hotel","facility_name":"Kedai Kopi"},{"facility_type":"hotel","facility_name":"Penjaga Pintu"},{"facility_type":"hotel","facility_name":"Staf Pribadi"},{"facility_type":"hotel","facility_name":"Kotak Penyimpanan Barang Berharga"},{"facility_type":"hotel","facility_name":"Gratis Wifi di kamar"},{"facility_type":"hotel","facility_name":"Layanan Laundry/Dry Cleaning"},{"facility_type":"hotel","facility_name":"Bagasi Penyimpanan"},{"facility_type":"hotel","facility_name":"Fasilitas Rapat"},{"facility_type":"hotel","facility_name":"Rumah Makan"},{"facility_type":"hotel","facility_name":"Layanan Kamar"},{"facility_type":"hotel","facility_name":"Wi-Fi area umum"},{"facility_type":"hotel","facility_name":"Wifi di Kamar"},{"facility_type":"room","facility_name":"AC"},{"facility_type":"room","facility_name":"Alat pembuat kopi and teh berdasarkan permintaan"},{"facility_type":"room","facility_name":"Air mineral botol gratis"},{"facility_type":"room","facility_name":"Meja"},{"facility_type":"room","facility_name":"Internet - Wifi (gratis)"},{"facility_type":"room","facility_name":"Televisi LCD/layar plasma"},{"facility_type":"room","facility_name":"Bar kecil"},{"facility_type":"room","facility_name":"Satelit/TV kabel"},{"facility_type":"room","facility_name":"Shower"},{"facility_type":"room","facility_name":"Sandal"},{"facility_type":"room","facility_name":"Telepon"},{"facility_type":"room","facility_name":"Televisi"}]},"nearby_attractions":{"nearby_attraction":[{"distance":941,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/k\/e\/business-kemang-icon.s.jpg","business_name":"Kemang Icon by Alila","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-kemang-icon-by-alila","business_lat":"-6.16422450000000000000","business_long":"106.82662600000003000000"},{"distance":1369,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/n\/e\/business-new_musro_jakarta_night_club.s.jpg","business_name":"Musro","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-musro","business_lat":"-6.17112500000000000000","business_long":"106.83667749999995000000"},{"distance":1369,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/m\/a\/business-manhattan-club-retro.s.jpg","business_name":"Grand Manhattan Club","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-grand-manhattan-club","business_lat":"-6.17112500000000000000","business_long":"106.83667749999995000000"},{"distance":1481,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/m\/i\/business-millennium-hotel-sirih-jakarta-jakarta-indonesia-126247_3.s.jpg","business_name":"Millenium Hotel Sirih Jakarta","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-millenium-hotel-sirih-jakarta","business_lat":"-6.18295220000000000000","business_long":"106.81610290000003000000"},{"distance":1481,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/u\/n\/business-unduhan.s.jpg","business_name":"Cafe Sirih","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-cafe-sirih","business_lat":"-6.18295220000000000000","business_long":"106.81610290000003000000"},{"distance":1569,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/d\/e\/business-detik_restoran_4.s.jpg","business_name":"Ikan Bakar Baruna","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-ikan-bakar-baruna","business_lat":"-6.18528380000000000000","business_long":"106.83037379999996000000"},{"distance":1617,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/t\/a\/business-taman-sari-royal-heritage-spa.s.jpg","business_name":"TSRH Spa Jakarta","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-tsrh-spa-jakarta","business_lat":"-6.18703449999999900000","business_long":"106.82505330000004000000"},{"distance":1777,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/s\/h\/business-show_resize_image5.s.jpg","business_name":"JAKARTADOYOGA","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-jakartadoyoga","business_lat":"-6.18847650000000100000","business_long":"106.82362200000000000000"},{"distance":1915,"business_primary_photo":"https:\/\/api-sandbox.tiket.com\/img\/business\/v\/r\/business-vr4ue2gajj.s.jpg","business_name":"Pisa Cafe & Resto","business_uri":"https:\/\/api-sandbox.tiket.com\/attractions\/indonesia\/dki-jakarta\/hotel-dekat-pisa-cafe-resto","business_lat":"-6.18959869999999900000","business_long":"106.82664909999994000000"}]},"policy":[{"name":"Kamar Superior","tier_one":"Tidak datang, akan dikenakan biaya untuk periode penuh.","tier_two":"Bebas biaya pembatalan sampai H-3, setelah itu , akan dikenakan biaya untuk malam pertama."},{"name":"Kamar Superior Tanpa Sarapan Pagi","tier_one":"Tidak datang, akan dikenakan biaya untuk periode penuh.","tier_two":"Bebas biaya pembatalan sampai H-3, setelah itu , akan dikenakan biaya untuk malam pertama."}],"list_internal_review":[{"avatar":"https:\/\/sandbox.tiket.com\/img\/default\/d\/e\/default-default.s.jpg","person":"Soekandar Soekandar ","nationality_flag":"https:\/\/sandbox.tiket.com\/images\/nation_flag\/id.png","nationality":"Indonesia","rating":"8.3","max_rating":10,"testimonial_text":"Lokasi dekat kemana mana, harga terjangkau, bersih dan nyaman. Hanya saja tempat\u2026"},{"avatar":"https:\/\/sandbox.tiket.com\/img\/default\/d\/e\/default-default.s.jpg","person":"Yashier Arafhat Zainal Abidin ","nationality_flag":"https:\/\/sandbox.tiket.com\/images\/nation_flag\/id.png","nationality":"Indonesia","rating":"8.0","max_rating":10,"testimonial_text":"Kamarnya Bagus"},{"avatar":"https:\/\/sandbox.tiket.com\/img\/default\/d\/e\/default-default.s.jpg","person":"Yashier Arafhat Zainal Abidin ","nationality_flag":"https:\/\/sandbox.tiket.com\/images\/nation_flag\/id.png","nationality":"Indonesia","rating":"9.0","max_rating":10,"testimonial_text":"Mantap nih akhirnya bisa nginap di hotel baru...lokasinya ok dekat tanah abang"},{"avatar":"https:\/\/sandbox.tiket.com\/img\/default\/d\/e\/default-default.s.jpg","person":"Johan Tjahyono","nationality_flag":"https:\/\/sandbox.tiket.com\/images\/nation_flag\/id.png","nationality":"Indonesia","rating":"10.0","max_rating":10,"testimonial_text":"Best hotel very convenient to many malls in jakarta such as pi gi ps sency"},{"avatar":"https:\/\/sandbox.tiket.com\/img\/default\/d\/e\/default-default.s.jpg","person":"Taufiq Taufiq","nationality_flag":"https:\/\/sandbox.tiket.com\/images\/nation_flag\/id.png","nationality":"Indonesia","rating":"8.0","max_rating":10,"testimonial_text":"Terima Kasih atas pelayanan dan sambutan hangatnya.... sangat senang karena liburan\u2026"}],"summary_internal_review":{"average":"8.3","max_rating":10,"detail":[{"category":"Layanan Hotel","value":"8.1"},{"category":"Kondisi Hotel","value":"8.6"},{"category":"Kenyamanan","value":"8.5"},{"category":"Kebersihan","value":"7.8"}]},"general":{"address":"Cideng Timur Street No. 58 \nPetojo Selatan, Gambir, Jakarta Pusat","description":"%3Cbr%2F%3E%3C%2Fp%3E%3Cp%3E%3Cb%3EProperty+Location%3C%2Fb%3E+%3Cbr+%2F%3E%3Cbr+%2F%3E%0ANeo+Hotel+Tanah+Abang+%E2%80%93+Cideng+dikenal+juga+dengan+nama+Favehotel+Tanah+Abang-Cideng.+Sesuai+dengan+namanya%2C+Neo+Hotel+Tanah+Abang+%E2%80%93+Cideng+berlokasi+di+Cideng%2C+Jakarta%2C+Indonesia.+Lokasi+hotel+berbintang+tiga+setengah+ini+dapat+dengan+mudah+Anda+akses+melalui+Bandara+Internasional+Soekarno-Hatta+dan+Stasiun+kereta+Api+Gambir.+Selain+itu%2C+Neo+Hotel+Tanah+Abang+%E2%80%93+Cideng+juga+dikelilingi+dengan+landmark+kota+seperti+Monumen+Nasional+%28Monas%29%2C+Istana+Merdeka%2C+dan+Katedral+Jakarta.+Neo+Hotel+Tanah+Abang+%E2%80%93+Cideng+dirancang+untuk+kenyamanan+singgah+di+pusat+kota+dan+melakukan+ativitas+bisnis.%3Cbr+%2F%3E%0A%3Cbr+%2F%3E%0A%3Cbr%2F%3E%3C%2Fp%3E%3Cp%3E%3Cb%3ERoom+Features%3C%2Fb%3E+%3Cbr+%2F%3E%3Cbr+%2F%3E%0ANeo+Hotel+Tanah+Abang+%E2%80%93+Cideng+menawarkan+103+unit+kamar+tamu+yang+berukuran+cukup+luas.+Tipe+kamar+yang+dimiliki+oleh+hotel+ini+mencakup+tipe+Standard%2C+Deluxe%2C+dan+Superior.+Selain+kesan+leluasa+yang+ditampilkan+di+dalam+kamar%2C+Neo+Hotel+Tanah+Abang+%E2%80%93+Cideng+juga+menggunakan+konsep+elegan+untuk+memberikan+suasana+nyaman+ketika+disinggahi.+Di+dalam+kamar%2C+dapat+Anda+temukan+fasilitas+berupa+televisi+LED+32-inci.+Selain+itu+terdapat+pula+lemari+es+dan+air+minum+dalam+kemasan+gratis.+Setiap+ruang+kamar+dilegkapi+dengan+kamar+mandi+menggunakan+shower+dan+bathtub.+Tidak+hanya+itu%2C+koneksi+internet+berkecepatan+tinggi+juga+dapat+Anda+nikmati+dari+dalam+kamar+pilihan+Anda.%3Cbr+%2F%3E%0A%3Cbr+%2F%3E%0A%3Cbr%2F%3E%3C%2Fp%3E%3Cp%3E%3Cb%3EHotel+Features%3C%2Fb%3E+%3Cbr+%2F%3E%3Cbr+%2F%3E%0AUntuk+keperluan+aktivitas+bisnis%2C+Neo+Hotel+Tanah+Abang+%E2%80%93+Cideng+memiliki+dua+unit+ruang+rapat+dan+fasilitas+pertemuan.+Neo+Hotel+Tanah+Abang+%E2%80%93+Cideng+juga+memiliki+restoran+yang+menghidangkan+masakan+Asia+dan+Barat.+Selain+restoran%2C+Anda+juga+dapat+mengunjungi+bar+dan+kafe+yang+telah+disediakan.+Hotel+yang+dibangun+sejak+2013+ini+memberikan+layanan+kamar%2C+antar-jemput+bandara%2C+concierge%2C+dan+layanan+binatu.","latitude":-6.1724284,"longitude":106.8243746},"login_status":"false","token":"c8d2e6aa8d84d93cde61fdc9d63e6215f6a1ef69"}';
    }

    private function makeCompany($name)
    {
        return factory(Company::class)->create([
             'name' => $name
        ]);
    }

    private function makeUser($name, $email, $companyId, $role)
    {
        return factory(User::class)->create([
            'name' => $name,
            'email' => $email,
            'company' => $companyId,
            'role' => $role
        ]);
    }

    public function curlMock($returnValue)
    {
        $order = $this->getMockBuilder('App\Http\Controllers\OrderController')
                    ->setMethods(array('curlCall'))
                    ->getMock();

        $order->expects($this->any())
              ->method("curlCall")
              ->will($this->returnValue("$returnValue"));
        return $order;
    }

    public function requestMock($map)
    {
        $request = $this->getMockBuilder('Illuminate\Http\Request')
                    ->setMethods(array('input'))
                    ->getMock();
        $request->expects($this->any())
                    ->method('input')
                    ->will($this->returnValueMap($map));
        return $request;
    }

    public function testToken()
    {
        $order = $this->curlMock("$this->token");

        $this->expectOutputString("$this->token");
        $order->getToken();
    }

    public function testGetHotelWithAcceptedParameter()
    {
        $order = $this->curlMock("$this->hotelList");

        $this->expectOutputString("$this->hotelList");

        $map = [
            ["in",null,date('Y-m-d')],
            ["out",null,date("Y-m-d", strtotime('tomorrow'))],
            ["city",null,"jakarta"],
            ["room",null,"1"],
            ["adult",null,"1"],
            ["child",null,"0"],
            ["token",null,"token"],
            ["page",null,"1"]
        ];

        $request = $this->requestMock($map);
        $order->getHotel($request);
    }

    public function testGetHotelWithCheckInBeforeToday()
    {
        $order = $this->curlMock($this->hotelList);

        $this->expectOutputString("error");

        $map = [
            ["in",null,date("Y-m-d", strtotime('yesterday'))],
            ["out",null,date("Y-m-d", strtotime('tomorrow'))],
            ["city",null,"jakarta"],
            ["room",null,"1"],
            ["adult",null,"1"],
            ["child",null,"0"],
            ["token",null,"token"],
            ["page",null,"1"]
        ];

        $request = $this->requestMock($map);
        $order->getHotel($request);
    }

    public function testGetHotelWithCheckOutBeforeCheckIn()
    {
        $order = $this->curlMock($this->hotelList);

        $this->expectOutputString("error");

        $map = [
            ["in",null,date("Y-m-d", strtotime('tomorrow'))],
            ["out",null,date("Y-m-d", strtotime('yesterday'))],
            ["city",null,"jakarta"],
            ["room",null,"1"],
            ["adult",null,"1"],
            ["child",null,"0"],
            ["token",null,"token"],
            ["page",null,"1"]
        ];

        $request = $this->requestMock($map);

        $order->getHotel($request);
    }

    public function testGetHotelDetail()
    {
        $order = $this->curlMock($this->hotelDetail);

        $this->expectOutputString("$this->hotelDetail");
        $map = [
            ["target",null,"target"],
            ["token",null,"token"]
        ];

        $request = $this->requestMock($map);

        $order->getHotelDetail($request);
    }

    public function testBookHotel()
    {
        $order = $this->curlMock("success");

        $map = [
            ["target",null,"target"],
            ["token",null,"token"]
        ];

        $request = $this->requestMock($map);

        $company = $this->makeCompany('Test Company');
    	$claimer = $this->makeUser('Claimer 1', 'Claimer1@Company.test', $company->id, 'claimer');
    	$approver = $this->makeUser('Approver', 'Appover@Company.test', $company->id, 'approver');
    	$finance = $this->makeUser('Finance', 'Finance@Company.test', $company->id, 'finance');
        $this->actingAs($claimer);
        $order->bookHotel($request);
        $this->assertDatabaseHas("claims",[
            "claim_data_id" => "token",
            "claim_type" => "1",
            "claim_status" => "1",
            "claimer_id" => $claimer->id,
            "approver_id" => $approver->id,
            "finance_id" => $finance->id,
        ]);
    }
}
